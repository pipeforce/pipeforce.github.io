"use strict";(self.webpackChunkdevdocs=self.webpackChunkdevdocs||[]).push([[2913],{3905:(e,t,r)=>{r.d(t,{Zo:()=>p,kt:()=>m});var n=r(7294);function a(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function i(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function s(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?i(Object(r),!0).forEach((function(t){a(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function o(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}var c=n.createContext({}),l=function(e){var t=n.useContext(c),r=t;return e&&(r="function"==typeof e?e(t):s(s({},t),e)),r},p=function(e){var t=l(e.components);return n.createElement(c.Provider,{value:t},e.children)},u={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},d=n.forwardRef((function(e,t){var r=e.components,a=e.mdxType,i=e.originalType,c=e.parentName,p=o(e,["components","mdxType","originalType","parentName"]),d=l(r),m=a,f=d["".concat(c,".").concat(m)]||d[m]||u[m]||i;return r?n.createElement(f,s(s({ref:t},p),{},{components:r})):n.createElement(f,s({ref:t},p))}));function m(e,t){var r=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var i=r.length,s=new Array(i);s[0]=d;var o={};for(var c in t)hasOwnProperty.call(t,c)&&(o[c]=t[c]);o.originalType=e,o.mdxType="string"==typeof e?e:a,s[1]=o;for(var l=2;l<i;l++)s[l]=r[l];return n.createElement.apply(null,s)}return n.createElement.apply(null,r)}d.displayName="MDXCreateElement"},490:(e,t,r)=>{r.r(t),r.d(t,{contentTitle:()=>s,default:()=>p,frontMatter:()=>i,metadata:()=>o,toc:()=>c});var n=r(7462),a=(r(7294),r(3905));const i={},s="Secrets",o={unversionedId:"guides/security/secrets",id:"guides/security/secrets",isDocsHomePage:!1,title:"Secrets",description:"A secret in PIPEFORCE is a piece of information you would like to share between services and systems but must",source:"@site/docs/guides/security/95_secrets.md",sourceDirName:"guides/security",slug:"/guides/security/secrets",permalink:"/docs/guides/security/secrets",editUrl:"https://github.com/pipeforce/pipeforce.github.io/edit/master/docs/guides/security/95_secrets.md",tags:[],version:"current",sidebarPosition:95,frontMatter:{},sidebar:"tutorialSidebar",previous:{title:"Groups, Roles, and Permissions",permalink:"/docs/guides/security/permissions"},next:{title:"Emailing",permalink:"/docs/guides/email"}},c=[{value:"Create a secret",id:"create-a-secret",children:[{value:"Format patterns",id:"format-patterns",children:[],level:3},{value:"Using a command",id:"using-a-command",children:[],level:3},{value:"Using the web interface",id:"using-the-web-interface",children:[],level:3}],level:2},{value:"Using a secret in your pipeline",id:"using-a-secret-in-your-pipeline",children:[],level:2}],l={toc:c};function p(e){let{components:t,...i}=e;return(0,a.kt)("wrapper",(0,n.Z)({},l,i,{components:t,mdxType:"MDXLayout"}),(0,a.kt)("h1",{id:"secrets"},"Secrets"),(0,a.kt)("p",null,"A secret in PIPEFORCE is a piece of information you would like to share between services and systems but must\nstay highly confidential as much as possible."),(0,a.kt)("p",null,"Here are some examples of secrets:"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"An API token to access an external service."),(0,a.kt)("li",{parentName:"ul"},"A set of username and password."),(0,a.kt)("li",{parentName:"ul"},"A key to encrypt and decrypt some data.")),(0,a.kt)("p",null,"All of these secrets must be handled very carefully. Therefore it is not a good idea to place this kind of information\nin the source code of your pipeline scripts or services."),(0,a.kt)("p",null,"Instead, you should create a secret once in PIPEFORCE and refer to it by its unique name. Only the backend component\nwho is allowed to work with the secret can then load and use it by this name. Users and other components are not\nable to see it."),(0,a.kt)("h2",{id:"create-a-secret"},"Create a secret"),(0,a.kt)("p",null,"In PIPEFORCE you have two options, creating a secret:"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"Using the command ",(0,a.kt)("a",{parentName:"li",href:"https://pipeforce.github.io/docs/api/commands#secretput-v1"},(0,a.kt)("inlineCode",{parentName:"a"},"secret.put"))),(0,a.kt)("li",{parentName:"ul"},"Using the web interface.")),(0,a.kt)("h3",{id:"format-patterns"},"Format patterns"),(0,a.kt)("p",null,"There are different format patterns of secrets possible:"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("strong",{parentName:"li"},"bearer")," - A bearer token typically used in conjunction with JWT. Such a secret is typically placed in the header of an HTTP request. The format pattern for the secret is: ",(0,a.kt)("inlineCode",{parentName:"li"},"Bearer: <Token>")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("strong",{parentName:"li"},"header")," - A secret with format pattern ",(0,a.kt)("inlineCode",{parentName:"li"},"<HeaderName>: <HeaderValue>")," which will be placed in the header of an HTTP request."),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("strong",{parentName:"li"},"secret-text")," - An arbitrary secret text to be used inside of components which are compatible with this format."),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("strong",{parentName:"li"},"username-password")," - A set of username and password in the pattern format ",(0,a.kt)("inlineCode",{parentName:"li"},"<Username>:<Password>"),".")),(0,a.kt)("h3",{id:"using-a-command"},"Using a command"),(0,a.kt)("p",null,"In order to create a secret using the command ",(0,a.kt)("inlineCode",{parentName:"p"},"secret.put"),", you can do so for example in the workbench:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"},"pipeline:\n  - secret.put:\n      name: mysecret\n      format: username-pasword\n      secret: someUsername:somePassword\n")),(0,a.kt)("p",null,"Make sure, you use the corresponding format pattern as described above in your secret value."),(0,a.kt)("h3",{id:"using-the-web-interface"},"Using the web interface"),(0,a.kt)("p",null,"In order to create a secret using the web interface: After login select ",(0,a.kt)("inlineCode",{parentName:"p"},"Secrets")," in the left menu."),(0,a.kt)("p",null,"Then click on ",(0,a.kt)("inlineCode",{parentName:"p"},"Add Secret"),", select the format of your secret, give it a unique name, set the secret and click ",(0,a.kt)("inlineCode",{parentName:"p"},"Add"),"."),(0,a.kt)("p",null,(0,a.kt)("img",{src:r(413).Z})),(0,a.kt)("h2",{id:"using-a-secret-in-your-pipeline"},"Using a secret in your pipeline"),(0,a.kt)("p",null,"Once a secret has been created, you can refer to it using its unqiue name inside a pipeline."),(0,a.kt)("p",null,"It depends on the command whether it supports secrets and in which form. Read the documentation of the command of interest."),(0,a.kt)("p",null,"Here is an example to refer to the mysecret secret in an HTTP call:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-yaml"},"pipeline:\n  - http.get:\n      url: https://hostname\n      credentials: mysecret\n")))}p.isMDXComponent=!0},413:(e,t,r)=>{r.d(t,{Z:()=>n});const n=r.p+"assets/images/add-secret-6abe5f0f1540bc1db4626215b3a56620.png"}}]);